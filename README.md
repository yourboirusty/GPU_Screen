# GPU support display
This is in heavy prototype stage, you will probably need to adjust the height of the support bracket.

## Components
- 1.2' ST7735 based 128x160 TFT display (eg. Adafruit Color TFT LCD with SD Card breakout)
- Arduino micro or clones (anything with SPI and more than 2kB flash should work, but the more flash and higher clocks, the bigger and more detailed animations you can upload, note that anything that's not based on Atmega32U4 MCU will have to be modified)

## Communication
Serial port is open, available commands:
- `?\n` returns `UNDER_GPU`
- `;tempgpu;usagegpu;tempcpu;usagecpu;ramusage;` updates screen values
- Otherwise responds with `BAD_DATA`

## Adding an animation
Since straight up bitmap animations tend to be a bit too big for the MCU memory, I've split my image into moving and non-moving parts, pushed them through http://javl.github.io/image2cpp/ and created .h files with the results imported from the website as `const unsigned char` tables.

You can draw the stationary bitmap in `initGraphics()` and define your animation sequence in `progressAnimation()`. Remember to set the `secondary_frame == 9` to your number of animation frames.

Example:
```
// 'frame0008', 25x27px
const unsigned char cat_tail9 [] PROGMEM = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x00, 0x81, 0xc0, 0x00, 
	0x01, 0x00, 0x20, 0x00, 0x03, 0x00, 0x10, 0x00, 0x06, 0x00, 0x08, 0x00, 0x04, 0x3c, 0x08, 0x00, 
	0x0c, 0x43, 0x08, 0x00, 0x08, 0xc0, 0xc8, 0x00, 0x18, 0x80, 0x30, 0x00, 0x31, 0x80, 0x00, 0x00, 
	0x23, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x0c, 0x00, 0x00, 0x00
};
// 'frame0009', 25x27px
const unsigned char cat_tail10 [] PROGMEM = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x00, 0x00, 0x00, 0xc7, 0xc0, 0x00, 
	0x01, 0x00, 0x30, 0x00, 0x03, 0x00, 0x08, 0x00, 0x06, 0x00, 0x04, 0x00, 0x04, 0x3c, 0x04, 0x00, 
	0x0c, 0x43, 0xc4, 0x00, 0x08, 0xc0, 0x38, 0x00, 0x18, 0x80, 0x00, 0x00, 0x31, 0x80, 0x00, 0x00, 
	0x23, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x0c, 0x00, 0x00, 0x00
};

const unsigned char *cat_tail [] {cat_tail1, cat_tail2, cat_tail3, cat_tail4, cat_tail5, cat_tail6, cat_tail7, cat_tail8, cat_tail9, cat_tail10};
```
